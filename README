IoT Gateway Support for Yocto BSP
=================================

The IoT Gateway support layer 'meta-nxp-iotg' provides support for building the
IoT Gateway Linux images for the NXP i.MX 6UltraLite EVK and i.MX 6UltraLowLite EVK platforms. 
The layer relies on the standard NXP Yocto BSP.

The IoT Gateway support layer provides the following:
  - WiFi routing, access point and client capabilities
  - various application support packages like python, txthings, and nodejs

These images have only been run on i.MX 6UL EVK and i.MX 6ULL EVK. Those are not supported.

Some instructions for enabling WiFi (6ULL board):

(in u-boot)
$ setenv fdt_file imx6ull-14x14-evk-btwifi.dtb
$ saveenv
$ boot
(in console)
$ ifconfig wlan0 up
$ wpa_passphrase [wifi-network] [wifi-password] >> /etc/wpa_supplicant.conf
$ wpa_supplicant -B -i wlan0 -c /etc/wpa_supplicant.conf -D nl80211
$ udhcpc -i wlan0
For 6UL board change the dtb file to: imx6ul-14x14-evk-btwifi.dtb

To setup the BSP you need to have `repo` installed. Install the `repo` utility:

$ mkdir ~/bin
$ curl http://commondatastorage.googleapis.com/git-repo-downloads/repo  > ~/bin/repo
$ chmod a+x ~/bin/repo
$ PATH=${PATH}:~/bin

Create the BSP directory:

$ mkdir iotg
$ cd iotg
$ repo init -u ssh://git@sw-stash.freescale.net/~nxf25325/fork-fsl-arm-yocto-bsp.git -b morty-internal -m morty-iotg-demo.xml

Download the BSP:

$ repo sync

Create the build directory:

$ MACHINE=imx6ulevk . ./sources/meta-nxp-iotg/tools/setup build
or
MACHINE=imx6ull14x14evk . ./sources/meta-nxp-iotg/tools/setup build

If the build directory exists but you're in a new shell:

$ cd iotg
$ . ./setup-environment build

Build:

$ bitbake nxp-image-iotg
